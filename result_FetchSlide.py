import numpy as np
import matplotlib.pyplot as plt
env_name = 'FetchSlide'
#
# # Plot the scores
NoBC_score = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/Demo/TD3_HER_S5_score.npy")
BC_only_score = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/TD3_BC_only/Noise0.2/BC_S5_score.npy")
Qfilter = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/StdQfilter/Qfilter_S5_score.npy")
# Qfilter_score_lcb = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/LCB/EnsSize_10_S5_success.npy")
#
x=np.arange(0, 5, 0.05)
plt.plot(x, NoBC_score[:10000:100], color='black', label='NoBC')
plt.plot(x, BC_only_score[:10000:100], color='blue', label='BC_only')
plt.plot(x, Qfilter[:10000:100], color='red', label='Qfilter')

plt.title('Scores')
plt.xlabel('Environment interactions')
plt.ylabel('Score')
plt.legend()
plt.savefig('/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Figure/Slide/scores_BC_noise0.2.png')
plt.show()

x2=np.arange(0, 5, 0.025)
first_score = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/First/EnsSize_10_S5_score.npy")
min_score = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/Minimum/EnsSize_10_S5_score.npy")
lcb_score = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/LCB/EnsSize_10_S5_score.npy")
modifiedlcb_score = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/ModifiedLCB/EnsSize_10_S5_score.npy")
# newfirst_score = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/NewFirst/NEW_EnsSize_10_S5_score.npy")
plt.plot(x, first_score[:10000:100], color='black', label='First')
plt.plot(x, min_score[:10000:100], color='blue', label='Min')
plt.plot(x, lcb_score[:10000:100], color='green', label='LCB')
plt.plot(x, modifiedlcb_score[:10000:100], color='red', label='ModifiedLCB')
plt.title('Scores')
plt.xlabel('Environment interactions')
plt.ylabel('Score')
plt.legend()
plt.savefig('/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Figure/Slide/scores_nopretrain_noise0.2.png')
plt.show()

first_success = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/First/EnsSize_10_S5_success.npy")
min_success = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/Minimum/EnsSize_10_S5_success.npy")
lcb_success = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/LCB/EnsSize_10_S5_success.npy")
modifiedlcb_success = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/ModifiedLCB/EnsSize_10_S5_success.npy")
# newfirst_score = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/NewFirst/NEW_EnsSize_10_S5_success.npy")
plt.plot(x, first_success[:10000:100], color='black', label='First')
plt.plot(x, min_success[:10000:100], color='blue', label='Min')
plt.plot(x, lcb_success[:10000:100], color='green', label='LCB')
plt.plot(x, modifiedlcb_success[:10000:100], color='red', label='ModifiedLCB')
plt.title('Success Rate')
plt.xlabel('Environment interactions')
plt.ylabel('Success Rate')
plt.legend()
plt.savefig('/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Figure/Slide/success_nopretrain_noise0.2.png')
plt.show()

first_demoaccept = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/First/EnsSize_10_S5_demoaccept.npy")
min_demoaccept = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/Minimum/EnsSize_10_S5_demoaccept.npy")
lcb_demoaccept = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/LCB/EnsSize_10_S5_demoaccept.npy")
modifiedlcb_demoaccept = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/ModifiedLCB/EnsSize_10_S5_demoaccept.npy")
# newfirst_demoaccept = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise0.2/NewFirst/NEW_EnsSize_10_S5_demoaccept.npy")
plt.plot(x, first_demoaccept[:10000:100], color='black', label='First')
plt.plot(x, min_demoaccept[:10000:100], color='blue', label='Min')
plt.plot(x, lcb_demoaccept[:10000:100], color='green', label='LCB')
plt.plot(x, modifiedlcb_demoaccept[:10000:100], color='red', label='ModifiedLCB')
plt.title('Accpetance Rate of demonstrations')
plt.xlabel('Environment interactions')
plt.ylabel('Accpetance Rate')
plt.legend()
plt.savefig('/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Figure/Slide/demoaccepts_nopretrain_noise0.2.png')
plt.show()
# env_name = 'FetchPush'
# var=0.5
# ensemble_size=10
# seed=5
# Qfilter=np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise{var}/First/EnsSize_{ensemble_size}_S{seed}_demoaccept.npy")
# Qfilter_pretrain = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Pretrain/Noise{var}/First/EnsSize_{ensemble_size}_S{seed}_demoaccept.npy")
# LCB=np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Noise{var}/LCB/EnsSize_{ensemble_size}_S{seed}_demoaccept.npy")
# LCB_pretrain = np.load(f"/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Results/{env_name}/EnsQfilter/Pretrain/Noise{var}/LCB/EnsSize_{ensemble_size}_S{seed}_demoaccept.npy")
# plt.plot(Qfilter[::10], color='black', label='Qfilter')
# plt.plot(Qfilter_pretrain[::10], color='blue', label='Qfilter_pretrain')
# plt.plot(LCB[::10], color='red', label='LCB')
# plt.plot(LCB_pretrain[::10], color='green', label='LCB_pretrain')
# plt.title('Acceptance rate of demonstrations')
# plt.xlabel('Environment interactions (2e6)')
# plt.ylabel('Acceptance rate')
# plt.legend()
# plt.savefig('/home/zhu_y@WMGDS.WMG.WARWICK.AC.UK/PycharmProjects/pythonProject/Figure/Push/demoaccept_ensize10_var0.5.png')
# plt.show()

